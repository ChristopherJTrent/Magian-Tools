{"version":3,"file":"main.js","mappings":"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","sources":["webpack://magian-tools/./src/js/lib/Nyzul/engine/_node.js","webpack://magian-tools/./src/js/lib/Nyzul/engine/nyzul.js","webpack://magian-tools/./src/js/lib/Nyzul/engine/componentFactory.js","webpack://magian-tools/./src/js/lib/Nyzul/engine/component.js","webpack://magian-tools/./src/js/lib/Nyzul/engine/lib.js","webpack://magian-tools/./src/js/components/util/flex-break.js","webpack://magian-tools/./src/js/components/util/about-modal.js","webpack://magian-tools/./src/js/components/util/header.js","webpack://magian-tools/./src/js/lib/Storehouse/data/aggregators.js","webpack://magian-tools/./src/js/lib/Storehouse/data/data-block.js","webpack://magian-tools/./src/js/lib/Storehouse/data/array-data-block.js","webpack://magian-tools/./src/js/lib/Storehouse/data/enum-data-block.js","webpack://magian-tools/./src/js/lib/Storehouse/data/storehouse.js","webpack://magian-tools/./src/js/components/util/reactive-label.js","webpack://magian-tools/./src/js/components/util/meter.js","webpack://magian-tools/./src/js/util/TP.js","webpack://magian-tools/./src/js/components/output/tp-display.js","webpack://magian-tools/./src/js/util/haste.js","webpack://magian-tools/./src/js/components/output/delay-display.js","webpack://magian-tools/./src/js/layouts/feedback-sidebar.js","webpack://magian-tools/./src/js/components/input/delay-input.js","webpack://magian-tools/./src/js/components/input/equipment-grid.js","webpack://magian-tools/./src/js/layouts/equipment-panel.js","webpack://magian-tools/./src/js/util/constants.js","webpack://magian-tools/./src/js/util/bard.js","webpack://magian-tools/./src/js/components/util/checklist-element.js","webpack://magian-tools/./src/js/components/input/bard-haste.js","webpack://magian-tools/./src/js/components/input/geomancy-haste.js","webpack://magian-tools/./src/js/components/input/white-blue-magic-haste.js","webpack://magian-tools/./src/js/layouts/magic-haste-panel.js","webpack://magian-tools/./src/js/index.js","webpack://magian-tools/./src/js/layouts/input-panel.js"],"sourcesContent":["/**\n * A wrapper around HtmlElement that adds component functionality\n */\nexport class NyzulNode {\n\t/**\n     * \n     * @param {HTMLElement} element \n     */\n\tconstructor(element) {\n\t\tthis.element = element\n\t}\n\t/**\n     * appends an HTMLElement to this node\n     * @param {HTMLElement} element \n     */\n\tappendChild(element) {\n\t\tthis.element.appendChild(element)\n\t}\n\t/**\n     * appends the render output of a component to the DOM tree of this node\n     * @param {Component} component \n     */\n\tappendComponent(component) {\n\t\tthis.appendChild(component.render())\n\t}\n\t/**\n     * appends a node to this object\n     * @param {NyzulNode} node\n     */\n\tappendNode(node) {\n\t\tthis.appendChild(node.element)\n\t}\n\n\tfinalize() {\n\t\treturn this.element\n\t}\n}","import { NyzulNode } from './_node.js'\nimport createElement from './componentFactory.js'\n/**\n * The root object for all Nyzul projects\n * Every element you add to your page will hang off of this object.\n */\nexport default class Nyzul extends NyzulNode {\n\t/**\n     * \n     * @param {String} rootId [default: 'pageContainer'] the html element to use as the root of your project\n     */\n\tconstructor(rootId = 'pageContainer') {\n\t\tsuper()\n\t\tthis.element = document.getElementById(rootId)\n\t}\n\t/**\n \t* @param {{\n\t* \ttype?: keyof HTMLElementTagNameMap,\n\t* \tid?: string,\n\t*  classes?: string[],\n\t* \tinnerText?: string,\n\t* \tattributes?: {[key]: string},\n\t*  eventCallbacks?: {\n\t* \t\ttype: string,\n\t* \t\tlistener: EventListenerOrEventListenerObject,\n\t* \t\toptions?: boolean | AddEventListenerOptions\n\t* }[]\n\t* }} componentDefinition \n\t* @returns {ReturnType<createElement>}\n\t*/\n\tstatic createElement(componentDefinition) {\n\t\treturn createElement(componentDefinition)\n\t}\n}","/**\n * \n * @param {{\n * \ttype?: keyof HTMLElementTagNameMap,\n * \tid?: string,\n *  classes?: string[],\n * \tinnerText?: string,\n * \tattributes?: {[key]: string},\n *  eventCallbacks?: {\n * \t\ttype: string,\n * \t\tlistener: EventListenerOrEventListenerObject,\n * \t\toptions?: boolean | AddEventListenerOptions\n * }[]\n * }} componentDefinition \n */\nexport default function createElement(componentDefinition) {\n\tconst element = document.createElement(componentDefinition.type ?? 'div')\n\tif (componentDefinition.id) element.id = componentDefinition.id\n\tif (componentDefinition.classes) \n\t\telement.classList.add(componentDefinition.classes)\n\tif (componentDefinition.innerText) \n\t\telement.innerText = componentDefinition.innerText\n\tif (componentDefinition.attributes) {\n\t\tfor (const [k, v] of Object.entries(componentDefinition.attributes)) {\n\t\t\telement.setAttribute(k, v)\n\t\t}\n\t}\n\tif (componentDefinition.eventCallbacks) {\n\t\tfor(const def of componentDefinition.eventCallbacks) {\n\t\t\telement.addEventListener(def.type, def.listener, def.options)\n\t\t}\n\t}\n\treturn element\n}","import { NyzulNode } from './_node.js'\n/**\n * Extend this class to create your own components.\n * You *must* override `render` with your own html generation code.\n */\nexport default class Component extends NyzulNode{\n\tconstructor(element) {\n\t\telement ??= document.createElement('div')\n\t\tsuper(element)\n\t}\n\t/**\n     * @returns {HTMLElement} the html rendered for this component.\n     */\n\trender() {}\n}","/**\n * makes a generic element id unique by adding a suffix.\n * @param {String} name \n */\nexport function generateUEID(name) {\n\t// The randomly generated string will be 8 characters of hex \n\tconst LOWER_BOUND = 16**7\n\tconst UPPER_BOUND = (16**8)-1\n\n\tconst generated = Math.floor(Math.random() * (UPPER_BOUND - LOWER_BOUND) + LOWER_BOUND)\n\treturn `${name}-${Math.floor(generated).toString(16)}`\n}","import { Component } from '../../lib/Nyzul/index.mjs'\n\nexport default class FlexBreak extends Component {\n\trender() {\n\t\tthis.element.classList.add('flex-break')\n\t\treturn this.element\n\t}\n}","import { Component } from '../../lib/Nyzul/index.mjs'\nimport FlexBreak from './flex-break.js'\n\nexport default class AboutModal extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element.id = 'about-modal'\n\t}\n\trender() {\n\t\tconst card = document.createElement('div')\n\t\tcard.classList.add('materialCard')\n\t\tconst closeButton = document.createElement('button')\n\t\tcloseButton.classList.add('styledButton')\n\t\tcloseButton.innerText = 'Close'\n\t\tcloseButton.addEventListener('click', AboutModal.closeModal)\n\t\tconst title = document.createElement('p')\n\t\ttitle.classList.add('title-text')\n\t\ttitle.innerText = 'About'\n\t\t\n\t\tconst titleBar = document.createElement('div')\n\t\ttitleBar.classList.add('flexContainer', 'horizontal', 'center', 'titlebar')\n\t\ttitleBar.appendChild(title)\n\t\ttitleBar.appendChild(closeButton)\n\t\tcard.appendChild(titleBar)\n\t\tAboutModal.generateCopy(card)\n\t\tcard.appendChild(new FlexBreak().render())\n\t\tthis.appendChild(card)\n\t\treturn this.finalize()\n\t}\n\t/**\n\t * \n\t * @param {HTMLElement|NyzulNode} parent \n\t */\n\tstatic generateCopy(parent) {\n\t\tconst elements = []\n\t\tconst appDescription = document.createElement('p')\n\t\tappDescription.innerText = 'Magian Calc is a port of XIcalc\\'s delay calculator.'\n\t\telements.push(appDescription)\n\n\t\tconst equipmentHeading = document.createElement('h3')\n\t\tconst equipmentDescription = document.createElement('p')\n\t\tequipmentHeading.innerText = 'Equipment'\n\t\tequipmentDescription.innerText = 'Input your equipment stats into the boxes on the first card'\n\t\telements.push(equipmentHeading, equipmentDescription)\n\n\t\tconst magicHeading = document.createElement('h3')\n\t\tconst magicDescription = document.createElement('p')\n\t\tmagicHeading.innerText = 'Magic'\n\t\tmagicDescription.innerText = 'Input your expected magical haste using the inputs on the second card. White/Blue magic haste does not stack except for Mighty Guard and Embrava.'\n\t\telements.push(magicHeading, magicDescription)\n\n\t\telements.forEach((e) => parent.appendChild(e))\n\t} \n\tstatic closeModal() {\n\t\tconst modal = document.getElementById('about-modal')\n\t\tmodal.classList.remove('active')\n\t}\n}","import { Component } from '../../lib/Nyzul/index.mjs'\n\n\nexport default class Header extends Component {\n\tLINKEDIN_URL = 'https://www.linkedin.com/in/christopher-trent-95b581190/'\n\tGITHUB_URL   = 'https://github.com/ChristopherJTrent'\n\tconstructor() { \n\t\tsuper() \n\t\tthis.element.id = 'header'\n\t\tthis.element.classList.add('flexContainer', 'horizontal', 'center')\n\t}\n\trender() {\n\t\tconst icon = document.createElement('img')\n\t\ticon.setAttribute('src', 'icon.webp')\n\t\ticon.classList.add('brand-icon')\n\t\tthis.element.appendChild(icon)\n\n\t\tconst title = document.createElement('p')\n\t\ttitle.classList.add('title-text')\n\t\ttitle.innerText = 'Magian Calc'\n\t\tthis.appendChild(title)\n\n\t\tconst about = document.createElement('span')\n\t\tabout.classList.add('flexCenter')\n        \n\t\tconst aboutButton = document.createElement('button')\n\t\taboutButton.addEventListener('click', Header.aboutModalHandler)\n\t\taboutButton.setAttribute('value', 'About this tool')\n\t\taboutButton.innerText = 'About this tool'\n\t\taboutButton.classList.add('styledButton')\n\t\tabout.appendChild(aboutButton)\n\t\tthis.appendChild(about)\n\n\n\t\tconst socials = document.createElement('span')\n\t\tsocials.classList.add('flexRight', 'socials')\n\t\tsocials.appendChild(this.linkedin())\n\t\tsocials.appendChild(this.github())\n\t\tthis.appendChild(socials)\n        \n\t\treturn this.finalize()\n\t}\n\tlinkedin() {\n\t\tconst linkedin = document.createElement('a')\n\t\tconst linkedinSymbol = document.createElement('i')\n\t\tlinkedinSymbol.classList.add('fa-brands', 'fa-linkedin')\n\t\tlinkedin.setAttribute('href', this.LINKEDIN_URL)\n\t\tlinkedin.appendChild(linkedinSymbol)\n\t\treturn linkedin\n\t}\n\tgithub() {\n\t\tconst github = document.createElement('a')\n\t\tconst githubSymbol = document.createElement('i')\n\t\tgithubSymbol.classList.add('fa-brands', 'fa-github')\n\t\tgithub.setAttribute('href', this.GITHUB_URL)\n\t\tgithub.appendChild(githubSymbol)\n\t\treturn github\n\t}\n\t/**\n     * \n     * @param {MouseEvent} e \n     */\n\tstatic aboutModalHandler(e) {\n\t\te.stopPropagation()\n\t\tconst modal = document.getElementById('about-modal')\n\t\tmodal.classList.add('active')\n\t}\n}","/**\n * \n * @param {Number[]} arr \n * @returns {Number}\n */\nexport function sum(arr) {\n\treturn arr.reduce((prev, curr) => prev + curr, 0)\n}","\n/** @template T not enumerable*/\nexport default class DataBlock {\n\t/**\n     * \n     * @param {T} startingValue \n     */\n\tconstructor(startingValue = 0) {\n\t\tthis.value = startingValue\n\t\tthis.subscribers = []\n\t}\n\t/**\n     * \n     * @param {Function} callback function to be called whenever the value of the datablock changes\n     * @returns null\n     */\n\tsubscribe(callback) {\n\t\tthis.subscribers.push(callback)\n\t\tcallback(this.value)\n\t}\n\tsetValue(val) {\n\t\tthis.value = val\n\t\tthis.alertSubscribers()\n\t\treturn true\n\t}\n\tupdateValue(func) {\n\t\tthis.value = func(this.value)\n\t\tthis.alertSubscribers()\n\t\treturn true\n\t}\n\talertSubscribers() {\n\t\tfor (const sub of this.subscribers) {\n\t\t\tsub(this.value)\n\t\t}\n\t}\n}","import { sum } from './aggregators.js'\nimport DataBlock from './data-block.js'\n/** @template T */\nexport default  class ArrayDataBlock extends DataBlock {\n\tstatic DEFAULT_AGGREGATOR = sum\n\n\t/**\n     * \n     * @param {T[]} value \n     */\n\tconstructor(value = []) {\n\t\tsuper()\n\t\tthis.value = value\n\t\tthis.subscribers = []\n\t\t/** @type {(value: T[]) => T} */\n\t\tthis.defaultAggregation = sum\n\t}\n\t/**\n     * sets the default aggregation function that will be used if an aggregate subscriber doesn't specify one.\n     * @param {(value: T[]) => T} aggregator\n     */\n\tsetDefaultAggregation(aggregator) {\n\t\tthis.defaultAggregation = aggregator\n\t\treturn this\n\t}\n\n\tsetValueAtIndex(index, value) {\n\t\tif (index > this.value.length - 1) {\n\t\t\tconst difference = index - this.value.length\n\t\t\tthis.value = this.value.concat(Array(difference).fill(0))\n\t\t}\n\t\tthis.value[index] = value\n\t\tthis.alertSubscribers()\n\t}\n\n\t/**\n     * @callback subscriber\n     * @param {T} value\n     * @returns {null}\n     * \n     * @callback aggregator\n     * @param {T[]} values\n     * @returns {T}\n     */\n\t/**\n     * @param {subscriber} callback A callback accepting a single value \n     * @param {aggregator} aggregator a function that accepts an array and returns a single value\n     * @returns {undefined}\n     */\n\tsubscribeAggregate(callback, aggregator = this.defaultAggregation) {\n\t\tthis.subscribe(() => {callback(aggregator(this.value))})\n\t}\n\n}","import DataBlock from './data-block.js'\n\n/** @template T */\nexport default class EnumDataBlock extends DataBlock {\n\t/**\n     * @param {T[]} allowedValues the list of permitted values\n     * @param {T} startingValue the starting value, which must be a member of allowedValues\n     * @throws if the starting value is not a member of allowedValues\n     */\n\tconstructor(allowedValues, startingValue) {\n\t\tsuper()\n\t\tthis.allowedValues = allowedValues\n\t\tif (!this.allowedValues.includes(startingValue)) throw new Error('Starting value must be an allowed value.')\n\t\tthis.value = startingValue \n\t\tthis.subscribers = []\n\t}\n\n\t/**\n     * \n     * @param {T} value \n     * @returns {boolean} true if successful, false otherwise.\n     */\n\tsetValue(value) {\n\t\tif (this.allowedValues.includes(value)) {\n\t\t\tthis.value = value\n\t\t\tthis.alertSubscribers()\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n}","import ArrayDataBlock from './array-data-block.js'\nimport DataBlock from './data-block.js'\nimport EnumDataBlock from './enum-data-block.js'\n\n\n/**\n * @static\n */\nexport default class Storehouse {\n\tconstructor() {throw new ReferenceError('reference to undeclared variable \"DataStore\"')}\n    \n\t/** @type {Map<String, DataBlock>} */\n\tstatic storage = new Map()\n\n\t/**\n     * @template T\n     * Registers a provider that will track the changes to a single value\n     * @param {String} key the name of the provider\n     * @param {T} [startingValue=0] the starting value of the provider\n     * @returns {[(value: T)=>undefined, ()=>T]} a pair of functions [set, get]\n     */\n\tstatic registerProvider(key, startingValue = 0) {\n\t\tStorehouse.storage.set(key, new DataBlock(startingValue))\n\t\treturn [\n\t\t\t(value) => {\n\t\t\t\tStorehouse.storage.get(key).setValue(value)\n\t\t\t},\n\t\t\t() => Storehouse.storage.get(key)\n\t\t]\n\t}\n\t/**\n     * @template T\n     * Registers a provider that will track the changes to an array of values\n     * @param {String} key the name of the provider\n     * @param {T[]} [startingValue=[]] the starting value of the provider\n     * @returns {[(index:Number, value:T)=>undefined, ()=>T[]]} a pair of functions [set, get]\n     */\n\tstatic registerArrayProvider(key, startingValue = []) {\n\t\tStorehouse.storage.set(key, new ArrayDataBlock(startingValue))\n\t\treturn [\n\t\t\t(index, value) => {\n\t\t\t\tStorehouse.storage.get(key).setValueAtIndex(index, value)\n\t\t\t},\n\t\t\t() => Storehouse.storage.get(key).value\n\t\t]\n\t}\n\t/**\n     * @template T\n     * \n     * @param {String} key the name of the provider\n     * @param {T} allowedValues the permitted range of starting values\n     * @param {T} [startingValue=allowedValues[0]] the starting value for the provider, which must be a member of allowedValues\n     * @returns {[(value: T)=>undefined, ()=>T]} a pair of functions [set, get]\n     */\n\tstatic registerEnumProvider(key, allowedValues, startingValue = allowedValues[0]) {\n\t\tStorehouse.storage.set(key, new EnumDataBlock(allowedValues, startingValue))\n\t\treturn [\n\t\t\t(value) => Storehouse.storage.get(key).setValue(value),\n\t\t\t() => Storehouse.storage.get(key).value\n\t\t]\n\t}\n\t/**\n     * @template T\n     * @typedef combinatorDefinition\n     * @property {String} key the storage key of the provider\n     * @property {(val: T[]) => T | undefined} aggregator the aggregator to use if key refers to an array provider\n     */\n\t/**\n     * @param {String} mainKey \n     * @param {{key: String, aggregator: ((val: T[]) => T)?}[]} defs \n     * @param {(value: T[]) => T} combiner\n     * @throws {TypeError} if you attempt to register a combinator on an enum provider (Unsupported Operation)\n     */\n\tstatic registerCombinatorProvider(mainKey, defs, combiner) {\n\t\tconst [set] = Storehouse.registerArrayProvider(mainKey, Array(defs.length).fill(0))\n\t\tfor (let i = 0; i < defs.length; i++) {\n\t\t\tconst def = defs[i]\n\t\t\tswitch (Storehouse.getProviderType(def.key)) {\n\t\t\tcase 'enum' :\n\t\t\t\tthrow new TypeError(`Unsupported Operation: Enum Providers cannot be combined. (${def.key})`)\n\t\t\tcase 'array':\n\t\t\t\tStorehouse.registerAggregateSubscriber(def.key, (v) =>  {\n\t\t\t\t\tset(i, v)\n\t\t\t\t}, def.aggregator)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tStorehouse.registerSubscriber(def.key, (v) => set(i, v))\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tStorehouse.storage.get(mainKey).setDefaultAggregation(combiner)\n\t}\n\t/**\n     * registers a subscriber to a given provider\n     * @template T\n     * @param {String} key the name of the provider\n     * @param {(value: T) => undefined} callback \n     */\n\tstatic registerSubscriber(key, callback) {\n\t\tStorehouse.storage.get(key)?.subscribe(callback)\n\t}\n\t/**\n     * registers a subscriber to a given aggregate provider\n     * @template T\n     * @param {String} key the name of the provider\n     * @param {(value: T) => undefined} callback a function that will handle the value \n     * @param {(list: T[]) => T} aggregator a function that aggregates an array of values into a single value\n     */\n\tstatic registerAggregateSubscriber(key, callback, aggregator) {\n\t\tStorehouse.storage.get(key).subscribeAggregate(callback, aggregator)\n\t} \n\t/**\n     * forces an update to a provider's subscribers\n     * @param {String} key the name of the provider\n     */\n\tstatic forceUpdate(key) {\n\t\tStorehouse.storage.get(key)?.alertSubscribers()\n\t}\n\t/**\n     * checks if a given provider name is registered\n     * @param {String} key the name of the provider to verify\n     * @returns {boolean} true if present\n     */\n\tstatic hasProvider(key) {\n\t\treturn Storehouse.storage.has(key)\n\t}\n\n\t/**\n     * gets the type of a given data provider.\n     * @param {String} key\n     * @returns {'standard'|'array'|'enum'} \n     */\n\tstatic getProviderType(key) {\n\t\tif (Array.isArray(Storehouse.storage.get(key)?.value)){\n\t\t\treturn 'array'\n\t\t} else if (Storehouse.storage.get(key)?.allowedValues) {\n\t\t\treturn 'enum'\n\t\t} else {\n\t\t\treturn 'standard'\n\t\t}\n\t}\n}","import { Component, generateUEID } from '../../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../../lib/Storehouse/index.mjs'\n\nexport default class ReactiveLabel extends Component {\n\tconstructor(key, text, aggregate = false) {\n\t\tsuper(document.createElement('span'))\n\t\tthis.element.innerText = text\n\t\tthis.storehouseKey = key\n\t\tthis.aggregate = aggregate\n\t\tthis.reactiveID = generateUEID(`reactive-label-${this.storehouseKey}`)\n\t}\n\twithFormatting(prepend, append) {\n\t\tthis.formatting = {prepend: prepend, append: append }\n\t\treturn this\n\t} \n\trender() {\n\t\tlet reactive = document.createElement('span')\n\t\treactive.id = this.reactiveID ?? 'error'\n\t\tthis.element.appendChild(reactive)\n\t\tif (this.aggregate) {\n\t\t\tif (this.aggregate === true) {\n\t\t\t\tStorehouse.registerAggregateSubscriber(this.storehouseKey, this.getUpdater())\n\t\t\t} else {\n\t\t\t\tStorehouse.registerAggregateSubscriber(this.storehouseKey, this.getUpdater(), this.aggregate)\n\t\t\t}\n\t\t} else {\n\t\t\tStorehouse.registerSubscriber(this.storehouseKey, this.getUpdater())\n\t\t}\n\t\tsetTimeout(() => Storehouse.forceUpdate(this.storehouseKey), 5)\n\t\treturn this.element\n\t}\n\tgetUpdater() {\n\t\tconst id = this.reactiveID\n\t\tconst format = this.formatting ?? {}\n\t\treturn (value) => {\n\t\t\tconst reactive = document.getElementById(id)\n\t\t\tconst formatted = `${format.prepend ?? ''}${value}${format.append ?? ''}`\n\t\t\tif (reactive) {\n\t\t\t\treactive.innerText = formatted\n\t\t\t}\n\t\t}\n\t}\n}","import { Component } from '../../lib/Nyzul/index.mjs'\nimport { sum } from '../../lib/Storehouse/data/aggregators.js'\nimport { Storehouse } from '../../lib/Storehouse/index.mjs'\nimport ReactiveLabel from './reactive-label.js'\n\n\nexport default class Meter extends Component {\n\t/**\n     * \n     * @param {String} label text to display as a label attached to the meter\n     * @param {String} key the Storehouse key used to hold the value for this meter\n     * @param {boolean|Function} [aggregate=true] set to false for no aggregation, true for default (sum), and pass a callback for custom.\n     */\n\tconstructor(label, key, aggregate = true) {\n\t\tsuper()\n\t\tif (aggregate === true || typeof aggregate === 'function') { \n\t\t\tif (aggregate === true ) aggregate = sum\n\t\t\tthis.useAggregation = true\n\t\t} else {\n\t\t\tthis.useAggregation = false\n\t\t}\n\t\tthis.aggregate = aggregate\n\t\tthis.label = label\n\t\tthis.key = key\n\t\tthis.meter = document.createElement('meter')\n\t\tthis.element.classList.add('meterContainer')\n\t}\n\tmin(val) {\n\t\tthis.meter.setAttribute('min', val)\n\t\treturn this\n\t}\n\tmax(val) {\n\t\tthis.meter.setAttribute('max', val)\n\t\treturn this\n\t}\n\tlow(val) {\n\t\tthis.meter.setAttribute('low', val)\n\t\treturn this\n\t}\n\thigh(val) {\n\t\tthis.meter.setAttribute('high', val)\n\t\treturn this\n\t}\n\toptimum(val) {\n\t\tthis.meter.setAttribute('optimum', val)\n\t\treturn this\n\t}\n\tformatLabel(prepend, append) {\n\t\tthis.prepend = prepend\n\t\tthis.append = append\n\t\treturn this\n\t}\n\trender() {\n\t\tconst label = new ReactiveLabel(this.key, this.label, this.aggregate)\n\t\t\t.withFormatting(this.prepend ?? '', this.append ?? '')\n\t\tthis.appendComponent(label)\n\t\t//this.appendComponent(new FlexBreak())\n\t\tthis.meter.id = `meter-${this.key}`\n\t\tthis.registerConsumer(this.meter)\n\t\tStorehouse.storage.get(this.key).alertSubscribers()\n\t\tthis.appendChild(this.meter)\n\t\treturn this.element\n\t}\n\tregisterConsumer(meter) {\n\t\tconst _meterCallback = (value) => {\n\t\t\tmeter.setAttribute('value', value?.toString())\n\t\t}\n\t\tif (this.useAggregation) {\n\t\t\t('using aggregation')\n\t\t\tStorehouse.registerAggregateSubscriber(this.key, _meterCallback, this.aggregate)\n\t\t} else {\n\t\t\t('not using aggregation')\n\t\t\tStorehouse.registerSubscriber(this.key, _meterCallback)\n\t\t}\n\t}\n}","\n/**\n * Calculate the total TP generated by a single hit at a given delay with a given amount of StoreTP\n * @param {Number} modifiedDelay total delay after dual-wield and martial arts but excluding haste\n * @param {Number} storeTp Total quantity of StoreTp across gearset\n * @returns {Number}\n */\nexport function tpPerHit(modifiedDelay, storeTp) {\n\t//this function will be full of magic numbers. nothing to be done about it.\n\tlet total = 0\n\tif (modifiedDelay < 180) {\n\t\ttotal = 61 + (((modifiedDelay - 180) * 63) / 360)\n\t} else if (modifiedDelay < 541) {\n\t\ttotal = 61 + (((modifiedDelay - 180) * 88) / 360)\n\t} else if (modifiedDelay < 631) {\n\t\ttotal = 149 + (((modifiedDelay - 540) * 20) / 360)\n\t} else if (modifiedDelay < 721) {\n\t\ttotal = 154 + (((modifiedDelay - 630) * 28) / 360)\n\t} else if (modifiedDelay < 901) {\n\t\ttotal = 161 + (((modifiedDelay - 720) * 24) / 360)\n\t} else {\n\t\ttotal = 173 + (((modifiedDelay - 900) * 28) / 360)\n\t}\n\treturn Math.floor(total) + Math.floor(total * (storeTp/100))\n}","import { Component, generateUEID } from '../../lib/Nyzul/index.mjs'\nimport { tpPerHit } from '../../util/TP.js'\nimport ReactiveLabel from '../util/reactive-label.js'\n\n\nexport default class TpDisplay extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element.id = 'tp-display'\n\t\tthis.perhitId = generateUEID('tp-display-per-hit')\n\t\tthis.to1kId = generateUEID('tp-display-to-1k')\n\t}\n\trender() {\n\t\tconst section1 = new ReactiveLabel('tp-per-hit', '', true)\n\t\t\t.withFormatting('', ' TP per hit (')\n\t\tconst section2 = new ReactiveLabel('tp-per-hit', '', (v) => Math.ceil(1000 / tpPerHit(...v)))\n\t\t\t.withFormatting('', ' hits to 1000 TP)')\n\t\tthis.appendComponent(section1)\n\t\tthis.appendComponent(section2)\n\t\treturn this.finalize()\n\t}\n}","\nexport function calculateDelay(base, haste/*, dualWield, martialArts*/) {\n\treturn base * Math.max((1-haste/1024), .2)\n}\nexport function calculateDelayForTP(base) {\n\treturn base\n}","import { Component } from '../../lib/Nyzul/index.mjs'\nimport { calculateDelay } from '../../util/haste.js'\nimport ReactiveLabel from '../util/reactive-label.js'\n\n\nexport default class DelayDisplay extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element.id = 'delay-display'\n\t}\n\trender() {\n\t\tconst section1 = new ReactiveLabel('modified-delay', 'Total Delay: ', (vals) => {\n\t\t\treturn Math.ceil(calculateDelay(...vals))\n\t\t})\n\t\tconst section2 = new ReactiveLabel('modified-delay', '', (vals) => {\n\t\t\tconst delay = calculateDelay(...vals)\n\t\t\treturn (delay/60).toFixed(2)\n\t\t}).withFormatting(' (', ' seconds per round)')\n\t\tthis.appendComponent(section1)\n\t\tthis.appendComponent(section2)\n\t\treturn this.finalize()\n\t}\n}","import Meter from '../components/util/meter.js'\nimport TpDisplay from '../components/output/tp-display.js'\nimport Component from '../lib/Nyzul/engine/component.js'\nimport DelayDisplay from '../components/output/delay-display.js'\n\nexport default class FeedbackSidebar extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element.id = 'feedbackSidebar'\n\t\tthis.element.classList.add('flexContainer', 'vertical', 'center', 'materialCard')\n\t}\n\trender() {\n\t\tthis.appendComponent(new DelayDisplay())\n\n\t\tthis.appendComponent(new TpDisplay())\n\n\t\tthis.appendChild(document.createElement('hr'))\n\n\t\tthis.appendComponent(new Meter('Equipment Haste', 'haste', \n\t\t\tFeedbackSidebar.hasteAggregator)\n\t\t\t.min(0)\n\t\t\t.low(250)\n\t\t\t.optimum(256)\n\t\t\t.high(260)\n\t\t\t.max(300)\n\t\t\t.formatLabel(': ', '/256'))\n\t\tthis.appendComponent(new Meter('Magical Haste', 'total-magic-haste')\n\t\t\t.min(0)\n\t\t\t.low(350)\n\t\t\t.high(430)\n\t\t\t.optimum(448)\n\t\t\t.max(600)\n\t\t\t.formatLabel(': ', '/448'))\n\t\treturn this.element\n\t}\n\t/**\n     * \n     * @param {number[]} values \n     * @returns \n     */\n\tstatic hasteAggregator(values) {\n\t\treturn values.reduce((a, e) => a + (e * 10), 0)\n\t}\n}","import { Component } from '../../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../../lib/Storehouse/index.mjs'\n\nexport default class DelayInput extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\t[this.setMh, this.getMh] = Storehouse.registerProvider('delay-mh', 240)\n\t\t//TODO: implement dual-wielding jobs (BLU, DNC, THF, NIN)\n\t\t//[this.setOh, this.getOh] = Storehouse.registerProvider('delay-oh', -1)\n\t}\n\trender() {\n\t\tthis.element.classList.add('flexContainer', 'vertical', 'center')\n\n\t\tconst label = document.createElement('label')\n\t\tconst mainHand = document.createElement('input')\n\t\tmainHand.id = 'main-hand-delay'\n\n\n\t\tlabel.setAttribute('for', mainHand.id)\n\t\tlabel.innerText = 'Main Hand base delay'\n\n\t\tmainHand.setAttribute('type', 'number')\n\t\tmainHand.setAttribute('min', '1')\n\t\tmainHand.setAttribute('max', '999')\n\t\tmainHand.setAttribute('value', this.getMh().value)\n\n\t\tmainHand.addEventListener('input', () => this.setMh(mainHand.valueAsNumber))\n\n\t\tmainHand.classList.add('smallInput')\n\n\t\tthis.appendChild(label)\n\t\tthis.appendChild(mainHand)\n\t\treturn this.element\n\t}\n}","import { Component } from '../../lib/Nyzul/index.mjs'\nimport {Storehouse} from '../../lib/Storehouse/index.mjs'\nimport FlexBreak from '../util/flex-break.js'\nimport ReactiveLabel from '../util/reactive-label.js'\n\nexport default class EquipmentGrid extends Component {\n\tstatic SLOTS = ['Main Hand', 'Off-Hand', 'Ranged', 'Ammo', \n\t\t'Head',      'Neck',     'Ear 1',  'Ear 2', \n\t\t'Body',      'Hands',    'Ring 1', 'Ring 2', \n\t\t'Back',      'Waist',    'Legs',   'Feet']\n\t/**\n     * \n     * @param {String} dataStoreKey \n     */\n\tconstructor(dataStoreKey) {\n\t\tsuper(document.createElement('span'))\n\t\tthis.element.classList.add('equipment-grid')\n\t\tthis.dataStoreKey = dataStoreKey\n\t\tconst [set, get] = Storehouse.registerArrayProvider(this.dataStoreKey, Array(16).fill(0))\n\t\tthis.setValue = set\n\t\tthis.getValue = get\n\t\tthis.element.id = `equipment-grid-${this.dataStoreKey}`\n\t}\n\tfieldMinimum(val) {\n\t\tthis.fieldMinVal = val\n\t\treturn this\n\t}\n\tfieldMaximum(val) {\n\t\tthis.fieldMaxVal = val\n\t\treturn this\n\t}\n\toverallMinMax(min = 0, max = 25) {\n\t\tthis.min = min\n\t\tthis.max = max\n\t\treturn this\n\t}\n\tformatLabel(prepend, append) {\n\t\tthis.prepend = prepend\n\t\tthis.append = append\n\t\treturn this\n\t}\n\trender() {\n\t\tconst dataGrid = this.getValue()\n\t\tconst label = new ReactiveLabel(this.dataStoreKey, this.dataStoreKey.replace('-', ' '), true)\n\t\t\t.withFormatting(this.prepend ?? ': ', this.append ?? `%/${this.max}%`)\n\t\tlabel.element.classList.add('equipPanelLabel')\n\t\tthis.appendComponent(label)\n\t\tthis.appendComponent(new FlexBreak())\n\t\tfor (let i = 0; i < 16; i++) {\n\t\t\tconst container = document.createElement('span')\n\t\t\tcontainer.classList.add('iblock')\n\t\t\tdataGrid.push(0)\n\t\t\tlet box = document.createElement('input')\n\t\t\tbox.setAttribute('type', 'number')\n\t\t\tbox.setAttribute('data-index', `${i}`)\n\t\t\tif (this.fieldMinVal) box.setAttribute('min', this.fieldMinVal)\n\t\t\tif (this.fieldMaxVal) box.setAttribute('max', this.fieldMaxVal)\n\t\t\tbox.addEventListener('input', this.updateListeners.bind(this))\n\t\t\tcontainer.appendChild(box)\n\t\t\tcontainer.appendChild(document.createElement('br'))\n\t\t\tconst label = document.createElement('span')\n\t\t\tlabel.classList.add('label')\n\t\t\tlabel.innerText = EquipmentGrid.SLOTS[i]\n\t\t\tcontainer.appendChild(label)\n\t\t\tthis.appendChild(container)\n\t\t}\n\t\tsetTimeout(() => Storehouse.forceUpdate(this.dataStoreKey), 1)\n\t\treturn this.element\n\t}\n\t/**\n     * \n     * @param {InputEvent} e \n     */\n\tupdateListeners(e) {\n\t\te.stopPropagation()\n\t\tthis.setValue(\n\t\t\te.target.dataset.index,\n\t\t\tparseInt(e.target.value)\n\t\t)\n\t}\n}","import DelayInput from '../components/input/delay-input.js'\nimport EquipmentGrid from '../components/input/equipment-grid.js'\nimport FlexBreak from '../components/util/flex-break.js'\nimport Component from '../lib/Nyzul/engine/component.js'\nimport { EQUIP_HASTE_MAX, EQUIP_HASTE_MIN, EQUIP_HASTE_MIN_OVERALL } from '../util/constants.js'\n\nexport default class EquipmentPanel extends Component {\n\tconstructor() { \n\t\tsuper()\n\t\tthis.element.id = 'equipmentPanel'\n\t\tthis.element.classList.add('materialCard')\n\t}\n\trender() {\n\t\tconst title = document.createElement('h1')\n\t\ttitle.classList.add('sectionTitle')\n\t\ttitle.innerText = 'Equipment'\n\t\tthis.appendChild(title)\n\t\tthis.appendComponent(new FlexBreak())\n\t\tthis.appendComponent(new DelayInput())\n\t\tthis.appendComponent(new FlexBreak())\n\t\tthis.appendComponent(new EquipmentGrid('haste')\n\t\t\t.fieldMinimum(EQUIP_HASTE_MIN)\n\t\t\t.fieldMaximum(EQUIP_HASTE_MAX)\n\t\t\t.overallMinMax(EQUIP_HASTE_MIN_OVERALL, \n\t\t\t\tEQUIP_HASTE_MAX))\n        \n\t\tthis.appendComponent(new EquipmentGrid('store-tp')\n\t\t\t.formatLabel(undefined, ''))\n\t\t//TODO: get the project to a point where these lines can be uncommented\n\t\t// this.appendComponent(new EquipmentGrid('dual-wield'))\n\t\t// this.appendComponent(new EquipmentGrid('double-attack'))\n\t\t// this.appendComponent(new EquipmentGrid('triple-attack'))\n\t\t// this.appendComponent(new EquipmentGrid('quadruple-attack'))\n\t\tthis.afterRender()\n\t\treturn this.element\n\t}\n\tafterRender() {\n\n\t}\n}","export const EQUIP_HASTE_MIN = -5\nexport const EQUIP_HASTE_MAX = 26\nexport const EQUIP_HASTE_MIN_OVERALL = -25\n","// These values were obtained by observing the game. see bg wiki for information\nconst advancingMarchBonuses = [108, 118, 129, 140, 151, 162, 172, 183, 194]\nconst victoryMarchBonuses   = [163, 179, 195, 211, 228, 244, 260, 277, 293]\n// Note: This can only be cast with Marsyas, and the only way to get song+8 is with Gjallarhorn\nconst honorMarchBonuses     = [126, 138, 150, 162, 174]\n/**\n * \n * @param {boolean[]} enabledSongs \n * @param {integer} songBonus \n * @param {boolean[]} enabledJobActions \n */\n\nexport default function calculateBardHaste(\n\t[advMarch, vicMarch, honMarch], \n\tsongBonus, \n\t[soulVoice, marcato],\n\tisTrust) {\n\tlet total = 0\n\tif (advMarch) total += advancingMarchBonuses[isTrust ? 0 : songBonus]\n\tif (vicMarch) total += victoryMarchBonuses[isTrust ? 0 : songBonus]\n\tif (isTrust) return total\n\tif (honMarch) total += honorMarchBonuses[Math.min(songBonus, 4)]\n\tif (soulVoice) total *= 2\n\telse if (marcato) total *= 1.5\n\treturn total\n}","import { NyzulNode } from '../../lib/Nyzul/engine/_node.js'\nimport { Nyzul } from '../../lib/Nyzul/index.mjs'\n\n/**\n * \n * @param {any extends HTMLElement} element \n * @param {(NyzulNode|any extends HTMLElement|string)} label \n * @returns {HTMLElement}\n */\nexport default function wrapWithRightSideLabel(element, label) {\n\tconst wrapper = Nyzul.createElement({\n\t\ttype: 'label',\n\t\tattributes: {\n\t\t\tfor: element.id\n\t\t}\n\t})\n\twrapper.appendChild(element)\n\tif (label instanceof HTMLElement) {\n\t\twrapper.appendChild(label)\n\t} else if (label instanceof NyzulNode) {\n\t\twrapper.appendChild(label.render())\n\t} else {\n\t\twrapper.append(label)\n\t}\n\treturn wrapper\n}","import { Component, Nyzul } from '../../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../../lib/Storehouse/index.mjs'\nimport calculateBardHaste from '../../util/bard.js'\nimport wrapWithRightSideLabel from '../util/checklist-element.js'\nimport ReactiveLabel from '../util/reactive-label.js'\n\nexport default class BardHaste extends Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.element = Nyzul.createElement({\n\t\t\ttype:'fieldset',\n\t\t\tclasses: ['flexContainer', 'vertical'],\n\t\t\tid: 'bard-haste'\n\t\t});\n\n\t\t[\n\t\t\tthis.setSongs, \n\t\t\tthis.getSongs\n\t\t] = Storehouse.registerArrayProvider('b-songs', [false, false, false]);\n\t\t[\n\t\t\tthis.setSongBonus, \n\t\t\tthis.getSongBonus\n\t\t] = Storehouse.registerProvider('b-song-bonus', 0);\n\t\t[\n\t\t\tthis.setJobActions,\n\t\t\tthis.getJobActions\n\t\t] = Storehouse.registerArrayProvider('b-job-action', [false, false]);\n\t\t[\n\t\t\tthis.setTrust,\n\t\t\tthis.getTrust\n\t\t] = Storehouse.registerProvider('b-song-trust', false)\n\t}\n\n\trender() {\n\t\tthis.appendChild(Nyzul.createElement({\n\t\t\ttype: 'legend',\n\t\t\tinnerText: 'Bard Music'\n\t\t}))\n\t\tthis.appendChild(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype: 'input',\n\t\t\tid: 'a-march',\n\t\t\tattributes: {\n\t\t\t\ttype: 'checkbox'\n\t\t\t},\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => {\n\t\t\t\t\t\tthis.setSongs(0, e.target.checked)\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t]\n\t\t}), 'Advancing March'))\n\n\t\tthis.appendChild(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype: 'input',\n\t\t\tid: 'v-march',\n\t\t\tattributes: {\n\t\t\t\ttype: 'checkbox'\n\t\t\t},\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => {\n\t\t\t\t\t\tthis.setSongs(1, e.target.checked)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}), 'Victory March'))\n\t\tconst trustDisabled = Nyzul.createElement({\n\t\t\ttype: 'fieldset',\n\t\t\tid: 'bsongs-trust-disabled',\n\t\t\tclasses: ['phantom']\n\t\t})\n\n\t\ttrustDisabled.appendChild(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype: 'input',\n\t\t\tid: 'h-march',\n\t\t\tattributes: { type: 'checkbox' },\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => this.setSongs(2, e.target.checked)\n\t\t\t\t}\n\t\t\t]\n\t\t}), 'Honor March'))\n\n\t\ttrustDisabled.append(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype:'input',\n\t\t\tid: 'songBonusSlider',\n\t\t\tattributes: {\n\t\t\t\ttype: 'range',\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 8,\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => this.setSongBonus(parseInt(e.target.value))\n\t\t\t\t}\n\t\t\t]\n\t\t}), new ReactiveLabel('b-song-bonus', 'Song Bonus: +', false)))\n\t\t\n\t\ttrustDisabled.appendChild(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype: 'input',\n\t\t\tid: 'soulVoiceCheckbox',\n\t\t\tattributes: {\n\t\t\t\ttype: 'checkbox'\n\t\t\t},\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => {\n\t\t\t\t\t\tif (e.target.checked) {\n\t\t\t\t\t\t\tdocument.getElementById('marcatoCheckbox').checked = false\n\t\t\t\t\t\t\tthis.setJobActions(1, false)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => this.setJobActions(0, e.target.checked)\n\t\t\t\t}\n\t\t\t]\n\t\t}), 'Soul Voice'))\n\n\t\ttrustDisabled.appendChild(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype:'input',\n\t\t\tid: 'marcatoCheckbox',\n\t\t\tattributes: {\n\t\t\t\ttype: 'checkbox'\n\t\t\t},\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => {\n\t\t\t\t\t\tif (e.target.checked) {\n\t\t\t\t\t\t\tdocument.getElementById('soulVoiceCheckbox').checked = false\n\t\t\t\t\t\t\tthis.setJobActions(0, false)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => {\n\t\t\t\t\t\tthis.setJobActions(1, e.target.checked)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}), 'Marcato'))\n\n\t\tthis.appendChild(trustDisabled)\n\n\t\tthis.appendChild(wrapWithRightSideLabel(Nyzul.createElement({\n\t\t\ttype: 'input',\n\t\t\tid: 'trustCheckbox',\n\t\t\tattributes: {\n\t\t\t\ttype: 'checkbox'\n\t\t\t},\n\t\t\teventCallbacks: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tlistener: (e) => {\n\t\t\t\t\t\tdocument.getElementById('bsongs-trust-disabled')\n\t\t\t\t\t\t\t.disabled = e.target.checked\n\t\t\t\t\t\tthis.setTrust(e.target.checked)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}), 'Trust'))\n\t\tthis.afterRender()\n\t\treturn this.finalize()\n\t}\n\n\tafterRender() {\n\t\tStorehouse.registerCombinatorProvider('bard-haste', [\n\t\t\t{ key: 'b-songs', aggregator: v => v},\n\t\t\t{ key: 'b-song-bonus' },\n\t\t\t{ key: 'b-job-action', aggregator: v => v},\n\t\t\t{ key: 'b-song-trust'}\n\t\t], (v) => calculateBardHaste(...v))\n\t}\n}","import { Component, Nyzul } from '../../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../../lib/Storehouse/index.mjs'\n\nexport default class GeomancyHaste extends Component {\n\tconstructor() {\n\t\tconsole.log('constructing geomancy haste')\n\t\tsuper()\n\t\tthis.element = Nyzul.createElement({\n\t\t\ttype: 'fieldset',\n\t\t\tclasses: ['flexContainer', 'horizontal'],\n\t\t\tid: 'geomancy-haste'\n\t\t});\n\t\t[\n\t\t\tthis.setSpellType,\n\t\t\tthis.getSpellType\n\t\t] = Storehouse.registerProvider('geo-spell-type', '');\n\t\t[\n\t\t\tthis.setSkill, \n\t\t\tthis.getSkill\n\t\t] = Storehouse.registerArrayProvider('geo-combined-skill', [0,0]);\n\t\t[\n\t\t\tthis.setGeomancyBonus,\n\t\t\tthis.getGeomancyBonus\n\t\t] = Storehouse.registerProvider('geomancy+', 0);\n\t\t[\n\t\t\tthis.setJobActions,\n\t\t\tthis.getJobActions\n\t\t] = Storehouse.registerArrayProvider('geo-job-actions', \n\t\t\t[false, false, false]);\n\t\t[\n\t\t\tthis.setTrust,\n\t\t\tthis.getTrust\n\t\t] = Storehouse.registerArrayProvider('geo-trust', [false, false])\n\t}\n\n\trender() {\n\t\tthis.appendChild(Nyzul.createElement({\n\t\t\ttype:'legend',\n\t\t\tinnerText:'test'\n\t\t}))\n\t\tthis.appendChild(Nyzul.createElement({\n\t\t\t\n\t\t}))\n\t\tthis.appendChild(Nyzul.createElement({\n\t\t\ttype:'input',\n\t\t\tid:'testInput',\n\t\t\tattributes: {\n\t\t\t\ttype: 'text'\n\t\t\t}\n\t\t}))\n\t\treturn this.finalize()\n\t}\n}","import { Component } from '../../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../../lib/Storehouse/index.mjs'\n\nexport default class WhiteBlueMagicHaste extends Component {\n\tstatic FIELD_DEFS = [\n\t\t{\n\t\t\tlabel: 'No Magical Haste',\n\t\t\tid: 'noHaste',\n\t\t\tvalue: 0,\n\t\t\tdefault: true\n\t\t},\n\t\t{\n\t\t\tlabel: 'Haste',\n\t\t\tid: 'haste1',\n\t\t\tvalue: 150\n\t\t},\n\t\t{\n\t\t\tlabel: 'Haste II',\n\t\t\tid: 'haste2',\n\t\t\tvalue: 307\n\t\t},\n\t\t{\n\t\t\tlabel: 'Hastega',\n\t\t\tid: 'hastega',\n\t\t\tvalue: 153\n\t\t},\n\t\t{\n\t\t\tlabel: 'Hastega II',\n\t\t\tid: 'hastega2',\n\t\t\tvalue: 307\n\t\t},\n\t\t{\n\t\t\tlabel: 'Refuelling',\n\t\t\tid: 'refuelling',\n\t\t\tvalue: 102\n\t\t},\n\t\t{\n\t\t\tlabel: 'Animating Wail',\n\t\t\tid: 'animating-wail',\n\t\t\tvalue: 150\n\t\t},\n\t\t{\n\t\t\tlabel: 'Erratic Flutter',\n\t\t\tid: 'erratic-flutter',\n\t\t\tvalue: 307\n\t\t}\n\t]\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element = document.createElement('form')\n\n\t\tthis.element.id = 'white-blue-magic-haste'\n\n\t\tthis.eventCallback = this.handleInputEvent.bind(this)\n\t\tthis.embravaCallback = this.embravaHandler.bind(this)\n\t\tthis.mightyGuardCallback= this.mightyGuardHandler.bind(this)\n\n\t\tthis.element.classList.add('flexContainer', 'vertical');\n\t\t[this.setProvider, this.getProvider] = Storehouse.registerArrayProvider('wb-magic-haste', [0,0,0])\n\t}\n\trender() {\n\t\tconst containingBlock = document.createElement('fieldset')\n\t\tcontainingBlock.classList.add('flexContainer', 'vertical')\n\t\tconst legend = document.createElement('legend')\n\t\tlegend.innerText = 'White/Blue Magical Haste'\n\t\tcontainingBlock.appendChild(legend)\n\t\tfor (const def of WhiteBlueMagicHaste.FIELD_DEFS) {\n\t\t\tcontainingBlock.appendChild(this.hasteSpell(def))\n\t\t}\n\t\tthis.setProvider(0,0)\n\t\tcontainingBlock.appendChild(this.mightyGuard())\n\t\tthis.setProvider(1, 0)\n\n\t\tcontainingBlock.appendChild(this.embrava())\n\t\tthis.setProvider(2, 0)\n\n\t\tthis.appendChild(containingBlock)\n\t\treturn this.finalize()\n\t}\n\t/**\n     * \n     * @param {InputEvent} e \n     */\n\thandleInputEvent(e) {\n\t\te.stopPropagation()\n\t\tthis.setProvider(0, parseInt(e.target.value))\n\t}\n\n\thasteSpell(def) {\n\t\tconst label = document.createElement('label')\n\t\tconst input = document.createElement('input')\n\t\tlabel.setAttribute('for', def.id)\n\t\tinput.id = def.id\n\t\tinput.name = this.element.id\n\t\tinput.value = def.value\n\t\tinput.type = 'radio'\n\t\tif (def.default) input.defaultChecked = true\n\t\tinput.addEventListener('change', this.eventCallback)\n\t\tlabel.appendChild(input)\n\t\tlabel.append(def.label)\n\t\treturn label\n\t}\n\n\tembrava() {\n\t\tconst embrava = document.createElement('label')\n\t\tembrava.setAttribute('for', 'embrava')\n\t\tconst embravaCheckbox = document.createElement('input')\n\t\tembravaCheckbox.setAttribute('name', 'embrava')\n\t\tembravaCheckbox.setAttribute('type', 'checkbox')\n\t\tembravaCheckbox.id = 'embrava'\n\t\tembrava.appendChild(embravaCheckbox)\n\t\tembrava.append('\\n Embrava')\n\t\tembrava.addEventListener('change', this.embravaCallback)\n\t\treturn embrava\n\t}\n\n\tmightyGuard() {\n\t\tconst mightyGuard = document.createElement('label')\n\t\tmightyGuard.setAttribute('for', 'mightyGuard')\n        \n\t\tconst mgCheckbox = document.createElement('input')\n\t\tmgCheckbox.setAttribute('name', 'mighty-guard')\n\t\tmgCheckbox.setAttribute('type', 'checkbox')\n\t\tmgCheckbox.id = 'mightyGuard'\n\t\tmightyGuard.appendChild(mgCheckbox)\n\t\tmightyGuard.append('\\nMighty Guard')\n\t\tmgCheckbox.addEventListener('change', this.mightyGuardCallback)\n\t\treturn mightyGuard\n\t}\n\n\n\tembravaHandler(e) {\n\t\te.stopPropagation()\n\t\tif(e.target.checked) {\n\t\t\tthis.setProvider(2, 266)\n\t\t} else {\n\t\t\tthis.setProvider(2, 0)\n\t\t}\n\t}\n\tmightyGuardHandler(e) {\n\t\te.stopPropagation()\n\t\tif(e.target.checked) {\n\t\t\tthis.setProvider(1, 150)\n\t\t} else {\n\t\t\tthis.setProvider(1, 0)\n\t\t}\n\t}\n}","import BardHaste from '../components/input/bard-haste.js'\nimport GeomancyHaste from '../components/input/geomancy-haste.js'\nimport WhiteBlueMagicHaste from '../components/input/white-blue-magic-haste.js'\nimport { Component } from '../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../lib/Storehouse/index.mjs'\n\n\nexport default class MagicHastePanel extends Component {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element.classList.add('materialCard', 'flexContainer', 'spaceAround')\n\t}\n\n\trender() {\n\t\tthis.appendComponent(new WhiteBlueMagicHaste())\n\t\tthis.appendComponent(new BardHaste())\n\t\tthis.appendComponent(new GeomancyHaste())\n\n\t\tthis.afterRender()\n\t\treturn this.finalize()\n\t}\n\n\tafterRender() {\n\t\tStorehouse.registerCombinatorProvider('total-magic-haste', [\n\t\t\t{ key: 'wb-magic-haste' },\n\t\t\t{ key: 'bard-haste'}\n\t\t])\n\t}\n}","import AboutModal from './components/util/about-modal.js'\nimport Header from './components/util/header.js'\nimport FeedbackSidebar from './layouts/feedback-sidebar.js'\nimport InputPanel from './layouts/input-panel.js'\nimport { Nyzul } from './lib/Nyzul/index.mjs'\n\nconst nyzul = new Nyzul()\n\nnyzul.appendComponent(new Header())\nnyzul.appendComponent(new InputPanel())\nnyzul.appendComponent(new FeedbackSidebar())\nnyzul.appendComponent(new AboutModal())","import { Component } from '../lib/Nyzul/index.mjs'\nimport { Storehouse } from '../lib/Storehouse/index.mjs'\nimport { tpPerHit } from '../util/TP.js'\nimport { calculateDelay } from '../util/haste.js'\nimport EquipmentPanel from './equipment-panel.js'\nimport MagicHastePanel from './magic-haste-panel.js'\n\nexport default class InputPanel extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.element.id = 'inputPanel'\n\t\tthis.element.classList.add('materialPanel')\n\t}\n\trender() {\n\t\tthis.appendComponent(new EquipmentPanel())\n\t\tthis.appendComponent(new MagicHastePanel())\n\t\tthis.afterRender()\n\t\treturn this.element\n\t}\n\tafterRender() {\n\t\tStorehouse.registerCombinatorProvider('tp-per-hit', [\n\t\t\t{\n\t\t\t\tkey: 'delay-mh'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'store-tp'\n\t\t\t}\n\t\t], (args) => tpPerHit(...args))\n\t\tStorehouse.registerAggregateSubscriber('tp-per-hit', (v) => (v))\n    \n\t\tStorehouse.registerCombinatorProvider('aggregate-haste', [\n\t\t\t{\n\t\t\t\tkey: 'haste',\n\t\t\t\taggregator: values => (\n\t\t\t\t\tMath.min(values.reduce((a, e) => a + e * 10, 0 ), 256) \n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'total-magic-haste',\n\t\t\t\taggregator: (v) => Math.min(v.reduce((a, e) => a + e), 448)\n\t\t\t}\n\t\t], (v) => Math.min(v.reduce((a, e) => a + e), 800))\n\n\t\t// this will include magic and job ability haste later.\n\t\tStorehouse.registerCombinatorProvider('modified-delay', [\n\t\t\t{\n\t\t\t\tkey: 'delay-mh',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'aggregate-haste',\n\t\t\t}\n\t\t], (vals) => calculateDelay(...vals))\n\t}\n}"],"names":["NyzulNode","constructor","element","this","appendChild","appendComponent","component","render","appendNode","node","finalize","Nyzul","rootId","arguments","length","undefined","super","document","getElementById","createElement","componentDefinition","type","id","classes","classList","add","innerText","attributes","k","v","Object","entries","setAttribute","eventCallbacks","def","addEventListener","listener","options","Component","generateUEID","name","generated","Math","floor","random","toString","FlexBreak","AboutModal","card","closeButton","closeModal","title","titleBar","generateCopy","parent","elements","appDescription","push","equipmentHeading","equipmentDescription","magicHeading","magicDescription","forEach","e","remove","Header","LINKEDIN_URL","GITHUB_URL","icon","about","aboutButton","aboutModalHandler","socials","linkedin","github","linkedinSymbol","githubSymbol","stopPropagation","sum","arr","reduce","prev","curr","DataBlock","startingValue","value","subscribers","subscribe","callback","setValue","val","alertSubscribers","updateValue","func","sub","ArrayDataBlock","static","defaultAggregation","setDefaultAggregation","aggregator","setValueAtIndex","index","difference","concat","Array","fill","subscribeAggregate","EnumDataBlock","allowedValues","includes","Error","Storehouse","ReferenceError","Map","registerProvider","key","storage","set","get","registerArrayProvider","registerEnumProvider","registerCombinatorProvider","mainKey","defs","combiner","i","getProviderType","TypeError","registerAggregateSubscriber","registerSubscriber","forceUpdate","hasProvider","has","isArray","ReactiveLabel","text","aggregate","storehouseKey","reactiveID","withFormatting","prepend","append","formatting","reactive","getUpdater","setTimeout","format","formatted","Meter","label","useAggregation","meter","min","max","low","high","optimum","formatLabel","registerConsumer","_meterCallback","tpPerHit","modifiedDelay","storeTp","total","TpDisplay","perhitId","to1kId","section1","section2","ceil","calculateDelay","base","haste","DelayDisplay","vals","toFixed","FeedbackSidebar","hasteAggregator","values","a","DelayInput","setMh","getMh","mainHand","valueAsNumber","EquipmentGrid","dataStoreKey","getValue","fieldMinimum","fieldMinVal","fieldMaximum","fieldMaxVal","overallMinMax","dataGrid","replace","container","box","updateListeners","bind","SLOTS","target","dataset","parseInt","EquipmentPanel","afterRender","advancingMarchBonuses","victoryMarchBonuses","honorMarchBonuses","wrapWithRightSideLabel","wrapper","for","HTMLElement","BardHaste","setSongs","getSongs","setSongBonus","getSongBonus","setJobActions","getJobActions","setTrust","getTrust","checked","trustDisabled","disabled","_ref","songBonus","_ref2","isTrust","advMarch","vicMarch","honMarch","soulVoice","marcato","calculateBardHaste","GeomancyHaste","console","log","setSpellType","getSpellType","setSkill","getSkill","setGeomancyBonus","getGeomancyBonus","WhiteBlueMagicHaste","default","eventCallback","handleInputEvent","embravaCallback","embravaHandler","mightyGuardCallback","mightyGuardHandler","setProvider","getProvider","containingBlock","legend","FIELD_DEFS","hasteSpell","mightyGuard","embrava","input","defaultChecked","embravaCheckbox","mgCheckbox","MagicHastePanel","nyzul","args"],"sourceRoot":""}